<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FadeJunkie — Find your lane</title>
  
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: { 
        extend: { 
          colors: { 
            brand: {
              50: '#f8fafc',
              100: '#f1f5f9',
              500: '#64748b',
              600: '#475569',
              900: '#0f172a'
            }
          },
          animation: {
            'fade-in': 'fadeIn 0.5s ease-in-out',
            'slide-up': 'slideUp 0.3s ease-out',
            'pulse-glow': 'pulseGlow 2s ease-in-out infinite',
            'bounce-in': 'bounceIn 0.5s ease-out',
            'progress-fill': 'progressFill 1s ease-out',
          }
        } 
      }
    }
  </script>
  
  <style>
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5); }
      50% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
    }

    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity: 0; }
      50% { transform: scale(1.05); }
      70% { transform: scale(0.9); }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes progressFill {
      from { width: 0%; }
      to { width: var(--target-width); }
    }
    
    .gradient-text {
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .card-hover {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card-hover:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1);
    }
    
    /* Tutorial overlay styles */
    .tutorial-backdrop {
      background: rgba(0, 0, 0, 0.75);
      backdrop-filter: blur(2px);
    }
    
    .tutorial-spotlight {
      border: 3px solid #3b82f6;
      border-radius: 12px;
      box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.75);
      animation: pulseGlow 2s ease-in-out infinite;
    }
    
    .tutorial-tooltip {
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }
    
    .tutorial-tooltip-arrow {
      position: absolute;
      width: 12px;
      height: 12px;
      background: inherit;
      border: inherit;
      transform: rotate(45deg);
    }
    
    .tutorial-tooltip-arrow.top {
      bottom: -6px;
      border-bottom: none;
      border-right: none;
    }
    
    .tutorial-tooltip-arrow.bottom {
      top: -6px;
      border-top: none;
      border-left: none;
    }
    
    .tutorial-tooltip-arrow.left {
      right: -6px;
      border-right: none;
      border-bottom: none;
    }
    
    .tutorial-tooltip-arrow.right {
      left: -6px;
      border-left: none;
      border-top: none;
    }

    /* Checklist styles */
    .checklist-slide-in {
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    .checklist-item-complete {
      animation: bounceIn 0.5s ease-out;
    }

    /* Points animation */
    .points-earned {
      animation: pointsEarn 1s ease-out;
    }

    @keyframes pointsEarn {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); color: #10b981; }
      100% { transform: scale(1); }
    }

    /* Badge unlock animation */
    .badge-unlock {
      animation: badgeUnlock 0.8s ease-out;
    }

    @keyframes badgeUnlock {
      0% { transform: scale(0) rotate(-180deg); opacity: 0; }
      50% { transform: scale(1.2) rotate(-90deg); }
      100% { transform: scale(1) rotate(0deg); opacity: 1; }
    }

    /* Screen reader only styles */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
  </style>
</head>

<body class="bg-zinc-50 text-zinc-900 dark:bg-zinc-900 dark:text-zinc-100 min-h-screen">
  
  <!-- Navigation Header -->
  <nav id="main-navigation" class="fixed top-0 left-0 right-0 z-40 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-700">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <!-- Logo -->
        <div class="flex items-center">
          <div class="text-2xl">💈</div>
          <span class="ml-2 text-xl font-bold gradient-text">FadeJunkie</span>
        </div>
        
        <!-- Navigation Links (Desktop) -->
        <div class="hidden md:flex items-center space-x-8">
          <a href="#home" class="text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:text-blue-600 transition-colors">Home</a>
          <a href="#features" class="text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:text-blue-600 transition-colors">Features</a>
          <a href="#about" class="text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:text-blue-600 transition-colors">About</a>
          <a href="#contact" class="text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:text-blue-600 transition-colors">Contact</a>
        </div>
        
        <!-- Actions -->
        <div class="flex items-center space-x-4">
          <!-- Theme Toggle -->
          <button id="themeToggle" class="p-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors" title="Toggle theme">
            <svg id="theme-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
            </svg>
          </button>
          
          <!-- Tutorial Restart Button -->
          <button id="restartTutorial" class="hidden sm:inline-flex items-center px-3 py-2 text-xs border border-zinc-200 dark:border-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors">
            Help
          </button>
          
          <!-- Sign In Button -->
          <button class="hidden sm:inline-flex items-center px-4 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg text-sm font-medium hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors">
            Sign In
          </button>
          
          <!-- Mobile Menu Button -->
          <button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="md:hidden hidden bg-white dark:bg-zinc-900 border-t border-zinc-200 dark:border-zinc-700">
      <div class="px-4 py-2 space-y-2">
        <a href="#home" class="block px-3 py-2 rounded-lg text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">Home</a>
        <a href="#features" class="block px-3 py-2 rounded-lg text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">Features</a>
        <a href="#about" class="block px-3 py-2 rounded-lg text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">About</a>
        <a href="#contact" class="block px-3 py-2 rounded-lg text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">Contact</a>
        <div class="border-t border-zinc-200 dark:border-zinc-700 pt-2">
          <a href="#signin" class="block px-3 py-2 rounded-lg text-sm font-medium text-zinc-600 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors">Sign In</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section id="home" class="relative min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 dark:from-zinc-900 dark:to-zinc-800 pt-16">
    <div class="max-w-4xl mx-auto px-6 text-center">
      <div class="animate-fade-in">
        <h1 class="text-4xl sm:text-6xl font-black leading-tight mb-6">
          One community. <br>
          <span class="gradient-text">Three paths.</span> <br>
          Find your lane.
        </h1>
        <p class="text-xl text-zinc-600 dark:text-zinc-300 mb-12 max-w-2xl mx-auto">
          Whether you're studying for boards, building a book, or booking a clean fade — FadeJunkie points you in the right direction.
        </p>
      </div>
      
      <!-- Path Cards -->
      <div id="path-cards" class="grid grid-cols-1 md:grid-cols-3 gap-6 animate-slide-up">
        <button id="student-card" class="group card-hover rounded-3xl border border-zinc-200 dark:border-zinc-700 p-8 bg-white dark:bg-zinc-800 text-left w-full">
          <div class="text-4xl mb-4">📚</div>
          <h3 class="text-xl font-bold mb-2">I'm a Student</h3>
          <p class="text-zinc-600 dark:text-zinc-300 mb-4">Master your craft with study tools, practice tests, and school resources.</p>
          <div class="flex items-center text-blue-600 group-hover:translate-x-1 transition-transform">
            <span class="text-sm font-medium">Get started</span>
            <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </div>
        </button>
        
        <button id="barber-card" class="group card-hover rounded-3xl border border-zinc-200 dark:border-zinc-700 p-8 bg-white dark:bg-zinc-800 text-left w-full">
          <div class="text-4xl mb-4">💈</div>
          <h3 class="text-xl font-bold mb-2">I'm a Barber</h3>
          <p class="text-zinc-600 dark:text-zinc-300 mb-4">Build your brand, connect with clients, and grow your business.</p>
          <div class="flex items-center text-blue-600 group-hover:translate-x-1 transition-transform">
            <span class="text-sm font-medium">Join now</span>
            <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </div>
        </button>
        
        <button id="client-card" class="group card-hover rounded-3xl border border-zinc-200 dark:border-zinc-700 p-8 bg-white dark:bg-zinc-800 text-left w-full">
          <div class="text-4xl mb-4">🧑‍🦱</div>
          <h3 class="text-xl font-bold mb-2">I'm a Client</h3>
          <p class="text-zinc-600 dark:text-zinc-300 mb-4">Find skilled barbers near you and book your next cut.</p>
          <div class="flex items-center text-blue-600 group-hover:translate-x-1 transition-transform">
            <span class="text-sm font-medium">Find barbers</span>
            <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </div>
        </button>
      </div>
    </div>
  </section>

  <!-- Progress Checklist Widget -->
  <div id="progressChecklist" class="fixed right-4 top-20 z-30 bg-white dark:bg-zinc-900 rounded-2xl shadow-lg border border-zinc-200 dark:border-zinc-700 w-80 max-h-[70vh] overflow-y-auto transition-all duration-300 transform translate-x-full hidden">
    
    <!-- Checklist Header -->
    <div class="p-4 border-b border-zinc-200 dark:border-zinc-700">
      <div class="flex items-center justify-between">
        <h3 id="checklistTitle" class="font-semibold">Getting Started</h3>
        <button id="checklistToggle" class="p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded transition-colors">
          <svg class="w-4 h-4 transition-transform" id="checklistArrow">
            <path fill="currentColor" d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/>
          </svg>
        </button>
      </div>
      
      <!-- Progress Overview -->
      <div class="mt-3">
        <div class="flex items-center justify-between text-sm text-zinc-600 dark:text-zinc-300 mb-2">
          <span>Progress</span>
          <span id="checklistProgress">0 of 0 completed</span>
        </div>
        <div class="w-full bg-zinc-200 dark:bg-zinc-700 rounded-full h-2">
          <div id="checklistProgressBar" class="bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500" style="width: 0%"></div>
        </div>
      </div>
    </div>
    
    <!-- Checklist Items -->
    <div id="checklistItems" class="p-4 space-y-3">
      <!-- Dynamically populated based on user type -->
    </div>
    
    <!-- Rewards Section -->
    <div id="checklistRewards" class="p-4 border-t border-zinc-200 dark:border-zinc-700">
      <div class="text-center">
        <div id="pointsDisplay" class="text-lg font-bold text-blue-600">0 points</div>
        <div class="text-xs text-zinc-500" id="nextRewardText">Complete your first task to earn points!</div>
        
        <!-- Achievement Badges -->
        <div id="badgeContainer" class="mt-3 flex justify-center space-x-2">
          <!-- Badges will be populated here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Tutorial Overlay System -->
  <div id="tutorialOverlay" class="fixed inset-0 z-[9999] hidden">
    <!-- Tutorial Backdrop -->
    <div id="tutorialBackdrop" class="absolute inset-0 tutorial-backdrop transition-all duration-500"></div>
    
    <!-- Tutorial Spotlight -->
    <div id="tutorialSpotlight" class="absolute pointer-events-none tutorial-spotlight transition-all duration-500 opacity-0"></div>
    
    <!-- Tutorial Tooltip -->
    <div id="tutorialTooltip" class="absolute z-10 max-w-sm bg-white dark:bg-zinc-900 rounded-2xl p-6 tutorial-tooltip border border-zinc-200 dark:border-zinc-700 opacity-0 transition-all duration-300">
      <!-- Tooltip Arrow -->
      <div id="tooltipArrow" class="tutorial-tooltip-arrow bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700"></div>
      
      <!-- Tooltip Content -->
      <div id="tooltipContent">
        <h3 id="tooltipTitle" class="text-lg font-bold mb-2 text-zinc-900 dark:text-zinc-100"></h3>
        <p id="tooltipDescription" class="text-sm text-zinc-600 dark:text-zinc-300 mb-4"></p>
      </div>
      
      <!-- Tutorial Navigation -->
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-3">
          <span id="tutorialProgress" class="text-xs text-zinc-500">Step 1 of 6</span>
          <div id="tutorialDots" class="flex space-x-1">
            <!-- Progress dots will be dynamically generated -->
          </div>
        </div>
        
        <div class="flex space-x-2">
          <button id="tutorialSkip" class="px-3 py-1 text-xs text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors">Skip</button>
          <button id="tutorialPrev" class="px-3 py-1 text-xs border border-zinc-200 dark:border-zinc-700 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors hidden">Back</button>
          <button id="tutorialNext" class="px-4 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">Next</button>
        </div>
      </div>
    </div>
    
    <!-- Accessibility announcements -->
    <div id="tutorialAnnouncer" class="sr-only" aria-live="polite" aria-atomic="true"></div>
  </div>

  <!-- Path Selection Modal -->
  <div id="pathModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 bg-black/50 backdrop-blur-sm">
    <div class="bg-white dark:bg-zinc-900 rounded-3xl p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto border border-zinc-200 dark:border-zinc-700 relative">
      
      <!-- Close Button -->
      <button id="closeModal" class="absolute top-4 right-4 p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
      
      <!-- Modal Header -->
      <div class="text-center mb-6">
        <div id="modalIcon" class="text-4xl mb-4">📚</div>
        <h2 id="modalTitle" class="text-2xl font-bold mb-2">Welcome, Student!</h2>
        <p id="modalSubtitle" class="text-zinc-600 dark:text-zinc-300">Let's set up your study plan in just 3 minutes</p>
      </div>

      <!-- Progress Indicator -->
      <div class="mb-8">
        <div class="flex items-center justify-between text-sm text-zinc-500 mb-2">
          <span>Step <span id="currentStep">1</span> of <span id="totalSteps">3</span></span>
          <span id="timeCommitment">About 3 minutes</span>
        </div>
        <div class="w-full bg-zinc-200 dark:bg-zinc-700 rounded-full h-2">
          <div id="progressBar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 33.33%"></div>
        </div>
      </div>

      <!-- Question Content -->
      <div id="questionContent" class="mb-8">
        <!-- Question content will be dynamically inserted here -->
      </div>

      <!-- Navigation Buttons -->
      <div class="flex justify-between">
        <button id="backBtn" class="px-6 py-3 border border-zinc-200 dark:border-zinc-700 rounded-xl font-semibold hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors hidden">
          Back
        </button>
        <div class="flex-1"></div>
        <button id="nextBtn" class="px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors">
          Next
        </button>
      </div>
    </div>
  </div>

  <!-- Account Setup Modal -->
  <div id="accountModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 bg-black/50 backdrop-blur-sm">
    <div class="bg-white dark:bg-zinc-900 rounded-3xl p-8 max-w-md w-full max-h-[90vh] overflow-y-auto border border-zinc-200 dark:border-zinc-700 relative">
      
      <!-- Close Button -->
      <button id="closeAccountModal" class="absolute top-4 right-4 p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
      
      <!-- Modal Header -->
      <div class="text-center mb-6">
        <div id="accountModalIcon" class="text-4xl mb-4">🚀</div>
        <h2 class="text-2xl font-bold mb-2">Create Your Account</h2>
        <p id="accountModalSubtitle" class="text-zinc-600 dark:text-zinc-300">Get the most out of your student experience</p>
      </div>

      <!-- Account Benefits -->
      <div id="accountBenefits" class="mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl">
        <h3 class="font-semibold mb-2 text-blue-900 dark:text-blue-100">With an account you get:</h3>
        <div id="benefitsList" class="space-y-1 text-sm text-blue-800 dark:text-blue-200">
          <!-- Benefits will be populated based on user path -->
        </div>
      </div>

      <!-- Account Setup Content -->
      <div id="accountContent">
        
        <!-- Social Login Options -->
        <div class="space-y-3 mb-6">
          <button id="googleSignup" class="w-full flex items-center justify-center px-4 py-3 border border-zinc-300 dark:border-zinc-600 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors">
            <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24">
              <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
              <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
              <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
              <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
            </svg>
            Continue with Google
          </button>
          
          <button id="appleSignup" class="w-full flex items-center justify-center px-4 py-3 border border-zinc-300 dark:border-zinc-600 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors">
            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 24 24">
              <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
            </svg>
            Continue with Apple
          </button>
        </div>

        <!-- Divider -->
        <div class="relative mb-6">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-zinc-200 dark:border-zinc-700"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-2 bg-white dark:bg-zinc-900 text-zinc-500">or</span>
          </div>
        </div>

        <!-- Email/Password Form -->
        <form id="emailSignupForm" class="space-y-4 mb-6">
          <div>
            <input 
              type="email" 
              id="signupEmail" 
              placeholder="Enter your email" 
              required
              class="w-full px-4 py-3 rounded-xl border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            >
            <div id="emailError" class="text-red-500 text-xs mt-1 hidden"></div>
          </div>
          
          <div>
            <input 
              type="password" 
              id="signupPassword" 
              placeholder="Create password (min 8 characters)" 
              required
              class="w-full px-4 py-3 rounded-xl border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            >
            <div id="passwordStrength" class="mt-2 hidden">
              <div class="flex space-x-1">
                <div class="h-2 w-1/3 rounded bg-zinc-200 dark:bg-zinc-700">
                  <div id="strengthBar1" class="h-full rounded transition-colors duration-300"></div>
                </div>
                <div class="h-2 w-1/3 rounded bg-zinc-200 dark:bg-zinc-700">
                  <div id="strengthBar2" class="h-full rounded transition-colors duration-300"></div>
                </div>
                <div class="h-2 w-1/3 rounded bg-zinc-200 dark:border-zinc-700">
                  <div id="strengthBar3" class="h-full rounded transition-colors duration-300"></div>
                </div>
              </div>
              <div id="strengthText" class="text-xs mt-1 text-zinc-500"></div>
            </div>
          </div>
          
          <div>
            <input 
              type="password" 
              id="confirmPassword" 
              placeholder="Confirm your password" 
              required
              class="w-full px-4 py-3 rounded-xl border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
            >
            <div id="confirmError" class="text-red-500 text-xs mt-1 hidden"></div>
          </div>
          
          <label class="flex items-start space-x-3 cursor-pointer">
            <input type="checkbox" id="agreeTerms" required class="mt-1">
            <span class="text-sm text-zinc-600 dark:text-zinc-300">
              I agree to the <a href="#" class="text-blue-600 hover:underline">Terms of Service</a> and <a href="#" class="text-blue-600 hover:underline">Privacy Policy</a>
            </span>
          </label>
          
          <button 
            type="submit" 
            id="createAccountBtn"
            class="w-full px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
            disabled
          >
            Create My Account
          </button>
        </form>

        <!-- Guest Mode Option -->
        <div class="text-center">
          <button id="guestMode" class="text-zinc-600 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-zinc-100 text-sm underline">
            Continue as Guest
          </button>
          <p class="text-xs text-zinc-500 mt-1">Limited features, no data sync</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Points Earned Notification -->
  <div id="pointsNotification" class="fixed top-24 right-4 z-40 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg transform translate-x-full transition-all duration-300 hidden">
    <div class="flex items-center">
      <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
      </svg>
      <span id="pointsEarnedText">+50 points earned!</span>
    </div>
  </div>

  <!-- Badge Unlock Notification -->
  <div id="badgeNotification" class="fixed top-24 left-1/2 transform -translate-x-1/2 z-40 bg-purple-600 text-white px-6 py-4 rounded-2xl shadow-xl translate-y-[-100px] transition-all duration-500 hidden">
    <div class="text-center">
      <div id="badgeIcon" class="text-3xl mb-2">🏆</div>
      <div class="text-sm font-semibold" id="badgeTitle">Achievement Unlocked!</div>
      <div class="text-xs opacity-90" id="badgeDescription">You earned a new badge</div>
    </div>
  </div>

  <script>
    // Debug flag
    const DEBUG = true;
    function debugLog(message, data = null) {
      if (DEBUG) {
        console.log('[FadeJunkie Debug]', message, data);
      }
    }

    // Tutorial System Core - Extended for Work Scheme 2
    const TutorialSystem = {
      // State management
      currentStep: 0,
      totalSteps: 0,
      isActive: false,
      userType: '',
      spotlightElement: null,
      tutorialData: null,
      
      // DOM elements
      overlay: null,
      backdrop: null,
      spotlight: null,
      tooltip: null,
      tooltipTitle: null,
      tooltipDescription: null,
      tooltipArrow: null,
      progressText: null,
      progressDots: null,
      nextBtn: null,
      prevBtn: null,
      skipBtn: null,
      announcer: null,
      
      // Tutorial definitions - Extended with content-specific tutorials
      tutorials: {
        welcome: {
          id: 'welcome_tutorial',
          title: 'Welcome to FadeJunkie!',
          steps: [
            {
              target: '#main-navigation',
              title: 'Navigation Menu',
              description: 'Access all features and tools from this main navigation bar. You can toggle themes and restart this tutorial anytime.',
              position: 'bottom',
              action: 'highlight'
            },
            {
              target: '#path-cards',
              title: 'Choose Your Path',
              description: 'Select your role to get a personalized experience. Each path offers different tools and features tailored to your needs.',
              position: 'top',
              action: 'highlight'
            },
            {
              target: '#student-card',
              title: 'Student Path',
              description: 'Perfect for aspiring barbers! Access study tools, practice tests, and connect with schools in your area.',
              position: 'top',
              action: 'highlight'
            },
            {
              target: '#barber-card',
              title: 'Barber Path',
              description: 'Build your professional profile, manage clients, and grow your barbering business with our tools.',
              position: 'top',
              action: 'highlight'
            },
            {
              target: '#client-card',
              title: 'Client Path',
              description: 'Find and book appointments with skilled barbers in your area. Save favorites and track your style journey.',
              position: 'top',
              action: 'highlight'
            },
            {
              target: '#themeToggle',
              title: 'Theme Toggle',
              description: 'Switch between light and dark modes for comfortable viewing at any time of day.',
              position: 'bottom',
              action: 'highlight'
            }
          ]
        },
        student_deep: {
          id: 'student_deep_tutorial',
          title: 'Student Study Hub Tour',
          contextualHelp: true,
          triggers: ['first_study_session', 'exam_prep_start', 'weak_area_identified'],
          steps: [
            {
              target: '#progressChecklist',
              title: 'Your Progress Tracker',
              description: 'This checklist shows your learning milestones. Complete tasks to earn points and unlock new features.',
              position: 'left',
              action: 'highlight',
              locationData: 'progress_tracking'
            },
            {
              target: '#main-navigation',
              title: 'Study Dashboard',
              description: 'Access practice tests, study materials, and progress analytics from the main navigation.',
              position: 'bottom',
              action: 'highlight'
            },
            {
              target: '#student-card',
              title: 'Your Learning Hub',
              description: 'Return here anytime to access study tools, practice exams, and track your progress toward licensing.',
              position: 'top',
              action: 'highlight',
              locationData: 'study_materials_access'
            }
          ]
        },
        barber_business: {
          id: 'barber_business_tutorial',
          title: 'Barber Business Builder',
          triggers: ['profile_complete', 'first_client_inquiry', 'analytics_view'],
          integrations: ['calendar', 'payment_setup', 'portfolio_upload'],
          steps: [
            {
              target: '#progressChecklist',
              title: 'Business Setup Checklist',
              description: 'Follow this checklist to set up your professional profile and start attracting clients.',
              position: 'left',
              action: 'highlight',
              locationData: 'business_setup'
            },
            {
              target: '#main-navigation',
              title: 'Business Dashboard',
              description: 'Manage your profile, view client analytics, and access business tools from here.',
              position: 'bottom',
              action: 'highlight'
            },
            {
              target: '#barber-card',
              title: 'Professional Profile',
              description: 'Build your brand, showcase your work, and set up your service area to attract local clients.',
              position: 'top',
              action: 'highlight',
              locationData: 'service_area_setup'
            }
          ]
        },
        client_discovery: {
          id: 'client_discovery_tutorial',
          title: 'Client Discovery Guide',
          triggers: ['first_search', 'barber_profile_view', 'booking_attempt'],
          locationAware: true,
          steps: [
            {
              target: '#progressChecklist',
              title: 'Discovery Checklist',
              description: 'Complete these steps to find and book with the perfect barber for your style.',
              position: 'left',
              action: 'highlight',
              locationData: 'discovery_preferences'
            },
            {
              target: '#main-navigation',
              title: 'Search & Discovery',
              description: 'Use advanced filters to find barbers by location, style, price, and availability.',
              position: 'bottom',
              action: 'highlight'
            },
            {
              target: '#client-card',
              title: 'Find Your Barber',
              description: 'Set your location preferences and style requirements to get personalized recommendations.',
              position: 'top',
              action: 'highlight',
              locationData: 'location_and_preferences'
            }
          ]
        }
      },

      // Content-specific tutorial extensions
      contentTutorials: {
        student_deep: {
          triggers: ['first_study_session', 'exam_prep_start', 'weak_area_identified'],
          contextualHelp: true
        },
        barber_business: {
          triggers: ['profile_complete', 'first_client_inquiry', 'analytics_view'],
          integrations: ['calendar', 'payment_setup', 'portfolio_upload']
        },
        client_discovery: {
          triggers: ['first_search', 'barber_profile_view', 'booking_attempt'],
          locationAware: true
        }
      },

      // Initialize tutorial system
      init() {
        debugLog('Initializing Tutorial System');
        this.bindElements();
        this.attachEventListeners();
        this.loadTutorialState();
        debugLog('Tutorial System initialized');
      },

      // Bind DOM elements
      bindElements() {
        this.overlay = document.getElementById('tutorialOverlay');
        this.backdrop = document.getElementById('tutorialBackdrop');
        this.spotlight = document.getElementById('tutorialSpotlight');
        this.tooltip = document.getElementById('tutorialTooltip');
        this.tooltipTitle = document.getElementById('tooltipTitle');
        this.tooltipDescription = document.getElementById('tooltipDescription');
        this.tooltipArrow = document.getElementById('tooltipArrow');
        this.progressText = document.getElementById('tutorialProgress');
        this.progressDots = document.getElementById('tutorialDots');
        this.nextBtn = document.getElementById('tutorialNext');
        this.prevBtn = document.getElementById('tutorialPrev');
        this.skipBtn = document.getElementById('tutorialSkip');
        this.announcer = document.getElementById('tutorialAnnouncer');

        // Validate all elements exist
        const requiredElements = [
          'overlay', 'backdrop', 'spotlight', 'tooltip', 'tooltipTitle', 
          'tooltipDescription', 'tooltipArrow', 'progressText', 'progressDots',
          'nextBtn', 'prevBtn', 'skipBtn', 'announcer'
        ];

        for (const elementName of requiredElements) {
          if (!this[elementName]) {
            debugLog(`ERROR: Tutorial element ${elementName} not found`);
            return false;
          }
        }

        debugLog('All tutorial elements bound successfully');
        return true;
      },

      // Attach event listeners
      attachEventListeners() {
        if (this.nextBtn) {
          this.nextBtn.addEventListener('click', () => this.nextStep());
        }

        if (this.prevBtn) {
          this.prevBtn.addEventListener('click', () => this.prevStep());
        }

        if (this.skipBtn) {
          this.skipBtn.addEventListener('click', () => this.skipTutorial());
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
          if (!this.isActive) return;

          switch(e.key) {
            case 'ArrowRight':
            case ' ':
              e.preventDefault();
              this.nextStep();
              break;
            case 'ArrowLeft':
              e.preventDefault();
              this.prevStep();
              break;
            case 'Escape':
              e.preventDefault();
              this.skipTutorial();
              break;
          }
        });

        // Window resize handler
        window.addEventListener('resize', () => {
          if (this.isActive && this.spotlightElement) {
            this.highlightElement(this.spotlightElement, this.getCurrentStep());
          }
        });

        // Tutorial restart button
        const restartBtn = document.getElementById('restartTutorial');
        if (restartBtn) {
          restartBtn.addEventListener('click', () => {
            this.start('welcome');
          });
        }

        debugLog('Tutorial event listeners attached');
      },

      // Start tutorial
      start(tutorialType = 'welcome') {
        debugLog('Starting tutorial:', tutorialType);

        if (!this.tutorials[tutorialType]) {
          debugLog('ERROR: Tutorial type not found:', tutorialType);
          return;
        }

        this.userType = tutorialType;
        this.tutorialData = this.tutorials[tutorialType];
        this.totalSteps = this.tutorialData.steps.length;
        this.currentStep = 0;
        this.isActive = true;

        this.showOverlay();
        this.renderStep();
        this.saveTutorialState();
        this.setupAccessibility();

        debugLog('Tutorial started successfully');
      },

      // Show overlay
      showOverlay() {
        if (this.overlay) {
          this.overlay.classList.remove('hidden');
          this.overlay.classList.add('flex');
          document.body.style.overflow = 'hidden';
        }
      },

      // Hide overlay
      hideOverlay() {
        if (this.overlay) {
          this.overlay.classList.add('hidden');
          this.overlay.classList.remove('flex');
          document.body.style.overflow = 'auto';
        }
      },

      // Render current step
      renderStep() {
        const step = this.getCurrentStep();
        if (!step) return;

        debugLog('Rendering tutorial step:', this.currentStep, step);

        // Update tooltip content
        this.tooltipTitle.textContent = step.title;
        this.tooltipDescription.textContent = step.description;

        // Update progress
        this.updateProgress();

        // Highlight target element
        this.highlightElement(step.target, step);

        // Position tooltip
        this.positionTooltip(step);

        // Update navigation buttons
        this.updateNavigationButtons();

        // Announce to screen readers
        this.announceStep();

        // Collect location data if specified
        if (step.locationData) {
          LocationDataCollector.collectLocationData(step.action, step);
        }
      },

      // Get current step
      getCurrentStep() {
        if (!this.tutorialData || !this.tutorialData.steps) return null;
        return this.tutorialData.steps[this.currentStep];
      },

      // Highlight element
      highlightElement(selector, step) {
        const element = document.querySelector(selector);
        if (!element) {
          debugLog('WARNING: Tutorial target element not found:', selector);
          return;
        }

        this.spotlightElement = element;
        const rect = element.getBoundingClientRect();
        const padding = step.padding || 8;

        // Position spotlight
        this.spotlight.style.left = `${rect.left - padding}px`;
        this.spotlight.style.top = `${rect.top - padding}px`;
        this.spotlight.style.width = `${rect.width + (padding * 2)}px`;
        this.spotlight.style.height = `${rect.height + (padding * 2)}px`;
        this.spotlight.style.opacity = '1';

        // Scroll element into view if needed
        element.scrollIntoView({
          behavior: 'smooth',
          block: 'center',
          inline: 'center'
        });

        debugLog('Element highlighted:', selector);
      },

      // Position tooltip
      positionTooltip(step) {
        if (!this.spotlightElement) return;

        const targetRect = this.spotlightElement.getBoundingClientRect();
        const tooltipRect = this.tooltip.getBoundingClientRect();
        const viewport = {
          width: window.innerWidth,
          height: window.innerHeight
        };

        let position = step.position || 'auto';

        if (position === 'auto') {
          position = this.calculateOptimalPosition(targetRect, tooltipRect, viewport);
        }

        this.applyTooltipPosition(position, targetRect);
        this.positionTooltipArrow(position);

        // Show tooltip with animation
        this.tooltip.style.opacity = '1';
        this.tooltip.style.transform = 'scale(1)';
      },

      // Calculate optimal tooltip position
      calculateOptimalPosition(targetRect, tooltipRect, viewport) {
        const spacing = 16;
        const positions = {
          bottom: targetRect.bottom + spacing + tooltipRect.height <= viewport.height,
          top: targetRect.top - spacing - tooltipRect.height >= 0,
          right: targetRect.right + spacing + tooltipRect.width <= viewport.width,
          left: targetRect.left - spacing - tooltipRect.width >= 0
        };

        // Priority order: bottom, top, right, left
        if (positions.bottom) return 'bottom';
        if (positions.top) return 'top';
        if (positions.right) return 'right';
        if (positions.left) return 'left';
        return 'bottom'; // fallback
      },

      // Apply tooltip position
      applyTooltipPosition(position, targetRect) {
        const spacing = 16;
        
        this.tooltip.style.transform = 'scale(0.95)';
        
        switch(position) {
          case 'bottom':
            this.tooltip.style.left = `${targetRect.left + (targetRect.width / 2) - (this.tooltip.offsetWidth / 2)}px`;
            this.tooltip.style.top = `${targetRect.bottom + spacing}px`;
            break;
          case 'top':
            this.tooltip.style.left = `${targetRect.left + (targetRect.width / 2) - (this.tooltip.offsetWidth / 2)}px`;
            this.tooltip.style.top = `${targetRect.top - spacing - this.tooltip.offsetHeight}px`;
            break;
          case 'right':
            this.tooltip.style.left = `${targetRect.right + spacing}px`;
            this.tooltip.style.top = `${targetRect.top + (targetRect.height / 2) - (this.tooltip.offsetHeight / 2)}px`;
            break;
          case 'left':
            this.tooltip.style.left = `${targetRect.left - spacing - this.tooltip.offsetWidth}px`;
            this.tooltip.style.top = `${targetRect.top + (targetRect.height / 2) - (this.tooltip.offsetHeight / 2)}px`;
            break;
        }

        // Ensure tooltip stays within viewport
        this.constrainTooltipToViewport();
      },

      // Position tooltip arrow
      positionTooltipArrow(position) {
        // Remove all position classes
        this.tooltipArrow.className = 'tutorial-tooltip-arrow bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700';
        
        // Add position-specific class
        this.tooltipArrow.classList.add(position);

        // Position the arrow
        switch(position) {
          case 'bottom':
            this.tooltipArrow.style.left = '50%';
            this.tooltipArrow.style.top = '-6px';
            this.tooltipArrow.style.transform = 'translateX(-50%) rotate(45deg)';
            break;
          case 'top':
            this.tooltipArrow.style.left = '50%';
            this.tooltipArrow.style.bottom = '-6px';
            this.tooltipArrow.style.transform = 'translateX(-50%) rotate(45deg)';
            break;
          case 'right':
            this.tooltipArrow.style.left = '-6px';
            this.tooltipArrow.style.top = '50%';
            this.tooltipArrow.style.transform = 'translateY(-50%) rotate(45deg)';
            break;
          case 'left':
            this.tooltipArrow.style.right = '-6px';
            this.tooltipArrow.style.top = '50%';
            this.tooltipArrow.style.transform = 'translateY(-50%) rotate(45deg)';
            break;
        }
      },

      // Constrain tooltip to viewport
      constrainTooltipToViewport() {
        const rect = this.tooltip.getBoundingClientRect();
        const margin = 16;

        if (rect.left < margin) {
          this.tooltip.style.left = `${margin}px`;
        }
        if (rect.right > window.innerWidth - margin) {
          this.tooltip.style.left = `${window.innerWidth - rect.width - margin}px`;
        }
        if (rect.top < margin) {
          this.tooltip.style.top = `${margin}px`;
        }
        if (rect.bottom > window.innerHeight - margin) {
          this.tooltip.style.top = `${window.innerHeight - rect.height - margin}px`;
        }
      },

      // Update progress indicator
      updateProgress() {
        this.progressText.textContent = `Step ${this.currentStep + 1} of ${this.totalSteps}`;

        // Update progress dots
        this.progressDots.innerHTML = '';
        for (let i = 0; i < this.totalSteps; i++) {
          const dot = document.createElement('div');
          dot.className = `w-2 h-2 rounded-full transition-colors ${
            i <= this.currentStep ? 'bg-blue-500' : 'bg-zinc-300 dark:bg-zinc-600'
          }`;
          this.progressDots.appendChild(dot);
        }
      },

      // Update navigation buttons
      updateNavigationButtons() {
        // Show/hide previous button
        if (this.currentStep === 0) {
          this.prevBtn.classList.add('hidden');
        } else {
          this.prevBtn.classList.remove('hidden');
        }

        // Update next button text
        if (this.currentStep === this.totalSteps - 1) {
          this.nextBtn.textContent = 'Finish';
          this.nextBtn.className = 'px-4 py-1 text-xs bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors';
        } else {
          this.nextBtn.textContent = 'Next';
          this.nextBtn.className = 'px-4 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors';
        }
      },

      // Next step
      nextStep() {
        if (this.currentStep < this.totalSteps - 1) {
          this.currentStep++;
          this.renderStep();
          this.saveTutorialState();
        } else {
          this.completeTutorial();
        }
      },

      // Previous step
      prevStep() {
        if (this.currentStep > 0) {
          this.currentStep--;
          this.renderStep();
          this.saveTutorialState();
        }
      },

      // Skip tutorial
      skipTutorial() {
        debugLog('Tutorial skipped by user');
        this.markTutorialSkipped();
        this.completeTutorial();
      },

      // Complete tutorial
      completeTutorial() {
        debugLog('Tutorial completed');
        this.isActive = false;
        this.hideOverlay();
        this.markTutorialComplete();
        this.showCompletionMessage();
        
        // Initialize checklist after tutorial completion
        if (this.userType !== 'welcome') {
          setTimeout(() => {
            ChecklistSystem.initializeForUser(this.userType);
          }, 1000);
        }
        
        this.cleanup();
      },

      // Show completion message
      showCompletionMessage() {
        // Create a temporary success message
        const message = document.createElement('div');
        message.className = 'fixed top-20 right-4 z-[10000] bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg transform translate-x-full transition-transform duration-300';
        message.innerHTML = `
          <div class="flex items-center">
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
            </svg>
            Tutorial completed! Welcome to FadeJunkie!
          </div>
